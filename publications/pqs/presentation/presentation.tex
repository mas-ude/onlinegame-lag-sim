%!TEX program = pdflatex

\documentclass{UDEbeamerEN}

\usepackage{ifluatex}
\ifluatex
  \usepackage{fontspec}
  \usepackage{polyglossia} % babel replacement for use with fontspec
  \setdefaultlanguage[variant=american]{english}
  \selectlanguage[variant=american]{english}

  \setmainfont[Ligatures=TeX]{Linux Biolinum O}
  %\setmathfont[math-style=ISO,bold-style=ISO,vargreek-shape=TeX,Ligatures=TeX]{TeX Gyre Pagella Math}

  \usepackage{unicode-math} % fixes math
  \usepackage{lualatex-math} % fixes amsmath/mathtools ... for luatex

\else
  \usepackage[utf8]{inputenc}
  \usepackage[T1]{fontenc}
  \usepackage[american]{babel}
  \usepackage{libertine}
  \usepackage{microtype}
  \usepackage{amssymb}
  \usepackage{mathtools}

\fi

\usepackage[acronym, nomain, nowarn]{glossaries}
\loadglsentries{acronyms}

\usepackage{csquotes}
\usepackage[load-configurations={abbreviations,binary}]{siunitx}
\sisetup{load-configurations = abbreviations,binary-units, range-phrase = {\text{~to~}}, per-mode=fraction}
\usepackage{multirow}
\usepackage{tabu}
\usepackage{booktabs}
\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{url}

\usepackage{multimedia} % WARNING: \movie command does not seem to work with lualatex; use pdflatex instead
%\usepackage{xmpmulti}
\usepackage{media9}

\usepackage[defernumbers=true, style=alphabetic, citestyle=alphabetic, firstinits=true, backend=biber, doi=false, url=false, block=ragged, maxnames=6]{biblatex}
\addbibresource{literature.bib}

\hypersetup{colorlinks=false}

\addtobeamertemplate{footnote}{}{\vspace{5ex}}


\title{A Comprehensive End-to-End Lag Model for Online and Cloud Video Gaming}
\author{Florian Metzger, Albert Rafetseder, Christian Schwartz}
\webadresse{https://www.mas.wiwi.uni-due.de/en}
\lehrstuhl{Modeling of Adaptive Systems}
\date[]{2016/08/29}

\def\Put(#1,#2)#3{\leavevmode\makebox(0,0){\put(#1,#2){#3}}}

\begin{document}


\frame{\titlepage}




\begin{frame}
	\frametitle{Motivation}
	%\framesubtitle{QoS and QoE of TCP Streaming in Mobile Networks?}
	\vspace{-0.5cm}

% clip generation:
% download source with youtube-dl
% ffmpeg -i csgo.mp4 -ss 00:24:24 -t 00:00:08 -an -vcodec copy clip1.mp4
% ffmpeg -i clip1.mp4 -vf "select=not(mod(n\,6))" clip1_6.mp4 
% ffmpeg -i clip1_6.mp4 -pix_fmt yuv420p clip1_6.mov 


			% \begin{center}
			% 	{\small same clip at 6fps}\\
			% 	\movie[width=9cm, height=6cm, autostart, repeat=true, poster]{}{clip1_6.mov}\\
			% 	{\small clip extracted from \url{https://www.youtube.com/watch?v=02I5vVxlJhU}}
			% \end{center}


	\begin{overprint}
		\only<1>{
			\begin{center}
				{\small CS:GO gameplay at 30fps}\\
				\movie[width=9cm, height=6cm, autostart, repeat=true, poster]{}{clip1.mov}\\
				{\small clip extracted from \url{https://www.youtube.com/watch?v=02I5vVxlJhU}}
			\end{center}}
		\only<2>{
			\begin{center}
				{\small same clip at 6fps}\\
				\movie[width=9cm, height=6cm, autostart, repeat=true, poster]{}{clip1_6.mov}\\
				{\small clip extracted from \url{https://www.youtube.com/watch?v=02I5vVxlJhU}}
			\end{center}}
	\end{overprint}
\end{frame}

\begin{frame}
	\frametitle{What is Lag?}
		Definition from Halo: Reach Programming Gameplay networking
	\begin{itemize}
		\item Perceived delay or inconsistency
		\item Caused by various latency sources
		\item Caused by bandwidth limitation
		\item Caused by packet loss
		\item Sometimes  caused by game mechanics
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{Model Limitations: Lag-Concealing Features}
		These have to be present in actual authoritative client-server video games, but are not yet considered in the model
	\begin{itemize}
		\item Immediate visualization through client-side prediction of object actions (e.g. player movement) (without waiting for authoritative answer)
		\item Visualization interpolation between snapshots // extrapolation from last two server game state snapshots
		\item Lag compensation by doing hit detection on object positions slightly in the past
	\end{itemize}
\end{frame}


\begin{frame}
	\frametitle{1}

	\begin{center}
		\includegraphics[width=.5\textwidth]{../../../models/game_loop.pdf}

		Basic model of a continuous main video game loop.
	\end{center}

\end{frame}

\begin{frame}
	\frametitle{2}

	\begin{center}

		\includegraphics[width=1.0\textwidth]{../../../models/component_interaction_full.pdf}

		Interactions between components in different video game models. \textit{(a)} Single-player, \textit{(b)} online, \textit{(c)} cloud game.
	\end{center}

\end{frame}


\begin{frame}
	\frametitle{3}

	\begin{center}
	    \includegraphics[width=0.9\textwidth]{../../../models/e2e-lag.pdf}

	    Location of three measurement approaches to capture end-to-end lag in an online video game.
	\end{center}

\end{frame}


\begin{frame}
	\frametitle{4}

	\begin{center}
	Tickrates in competitive and popular video games that are either known, speculated upon, or derived by counting update and command messages. Data was collected from various sources and should be taken as-is.

	{\small
		\begin{tabu}{X[0.45]X}
			\toprule
			\textbf{Video Game} & \textbf{Tickrate} \\
			\midrule
			CS: GO & Configurable \SI{64}{\hertz}/\SI{128}{\hertz} \\
			Battlefield 4 & \SI{30}{\hertz}; \SI{10}{\hertz} for state outside of close proximity to player; \SI{60}{\hertz}/\SI{120}{\hertz} on test servers. \\
			Minecraft & max. \SI{20}{\hertz} \\
			League of Legends & \SI{30}{\hertz} (estimated) \\
			Dota 2 & \SI{30}{\hertz} \\
			StarCraft II & supposedly either \SI{16}{\hertz} or \SI{32}{\hertz} \\
			Eve Online & \SI{1}{\hertz} \\
	%		Sports Game 1 & \\ \midrule
			Project Cars & \SI{600}{\hertz} (Physics), \SI{250}{\hertz} (Input) \\ %https://twitter.com/projectcarsgame/status/551340759858040833
			\bottomrule
		\end{tabu}
	}
	\end{center}

\end{frame}


\begin{frame}
	\frametitle{5}

	\begin{center}
		\includegraphics[width=0.9\textwidth]{../../../models/e2e-lag-model.pdf}

		Queuing lag model in an online video game case.
	\end{center}

\end{frame}


\begin{frame}
	\frametitle{6}

	\begin{center}
		\includegraphics[width=0.7\textwidth]{../../../models/tickrate-timeseries-poster.pdf}

		Exemplary flow of events in an online client-server game, and resulting end-to-end lag with the notation of Tab.~\ref{tab:notation}
	\end{center}

\end{frame}


\begin{frame}
	\frametitle{7}

	\begin{center}
		\includegraphics[width=0.7\textwidth]{../../../simulation/visualization/nwless-onlinegame-1000rounds.pdf}

		Median \gls{E2E} lag under various frame and tick durations for a locally-running game (ยง\ref{subsec:local-game}). Lower lag values are achieved at lower frame and tick durations; the frame duration has a larger influence on the \gls{E2E} lag.
	\end{center}
\end{frame}


\begin{frame}
	\frametitle{8}

	\begin{center}
		\vspace{-9mm}
		\includegraphics[width=0.6\textwidth]{../../../simulation/visualization/e2e-lag-3dbars.pdf}
		\vspace{-10mm}

		Influence of client framerate and server tickrate on the median \gls{E2E} lag in the online game scenario (ยง\ref{subsec:online-gaming}). Only for high rates $f$, $g$, the lag is dominated by the network round-trip and server processing time, $T\approx2\mu_D+\mu_P=\SI{43}{\milli\second}$.
	\end{center}

\end{frame}


\begin{frame}
	\frametitle{9}

	\begin{center}
		\includegraphics[width=0.7\textwidth]{../../../simulation/visualization/cloudgaming-lag-cdf.pdf}

		Influence of the rendering and streaming framerate on the \gls{E2E} lag in the cloud scenario (ยง\ref{subsec:cloud-gaming}). The vertical reference line denotes the average server processing time, network round-trip and codec delay $\mu_P+2\mu_D+e+d=\SI{68}{\milli\second}$.
	\end{center}
\end{frame}

\begin{frame}
	\frametitle{10}

	\begin{center}
		\includegraphics[width=0.25\textwidth]{../../../models/framerate-poster.pdf}
	\end{center}
\end{frame}


\begin{frame}
	\frametitle{10}

	\begin{center}
		\includegraphics[width=0.7\textwidth]{../../../models/game-tick-rate-streamed.pdf}
	\end{center}
\end{frame}


% unfortunately no frame animations work with preview/skim/presentation
% either skip it, or consider installing adobe reader?
\begin{frame}
	\frametitle{10}

	%\begin{columns}[T]
		%\column{0.5\textwidth}
			\begin{center}
				%ffmpeg -f gif -i eli5-framerate.gif -pix_fmt yuv420p eli5-framerate.mov
				\movie[width=9cm, height=6cm, autostart, repeat=true, poster]{}{extras/framerate.mov}\\
				{\small\url{http://blog.logicalincrements.com/2015/04/does-fps-matter-decide-for-yourself/}}
			\end{center}
\end{frame}

\begin{frame}
	\frametitle{11}

	\begin{center}
		\movie[width=9cm, height=6cm, autostart, repeat, poster]{}{extras/eli5-framerate.mov}\vspace{2mm}
		\url{http://hugelol.com/lol/364250}
	\end{center}
\end{frame}

\begin{frame}
	\frametitle{12}


\end{frame}

\begin{frame}
	\frametitle{13}


\end{frame}



\end{document}